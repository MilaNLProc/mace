{% block maceform %}

<!-- ======= mace Section ======= -->
<section id="mace">
  <div class="section-title">
    <h2>MACE</h2>
    <p>Let's run the algorithm</p>
  </div>
  <div class="container" id=>
    <form class="needs-validation" novalidate>
  
      <div class="form-row" id="choosefile">
        <div class="col-md-12 mb-3">
          {{ form.inputfile(type="file", class="custom-file-input", id="customFile")}}
          <label class="custom-file-label" for="customFile">Choose file...</label>
          <div class="invalid-feedback">
            Please select a file.
          </div>
        </div>
      </div>

      <div class="form-row" id="emailform">

        <div class="col-md-12 mb-3">
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">@</span>
            </div>
              {{ form.email(type="email", class="form-control", placeholder="Email")}}
            <div class="invalid-feedback">
              Please choose a valid email address.
            </div>
          </div>
        </div>

        <small>
          <a href="" id="advset" data-toggle="collapse" data-target="#advancedsettings" aria-expanded="false" aria-controls="advancedsettings" class="form-text">
            Advanced Settings
          </a>
       </small>
      </div>

      <div class="collapse" id="advancedsettings">
        <div class="form-row">
          <div class="col-md-6 mb-3">
            <!-- <label for="validationCustomUsername">0-1 range</label> -->
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroupPrepend">Alpha</span>
              </div>
                {{ form.alpha(type="number", class="form-control", id="validationCustomUsername", placeholder="0-1 range", step="0.001", min="0", max="1") }}
              <div class="invalid-feedback">
                Please insert a value between 0 and 1.<br>
                Note: the minimun step is 0,001.
              </div>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <!-- <label for="validationCustomUsername">0-1 range</label> -->
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroupPrepend">Beta</span>
              </div>
                {{ form.beta(type="number", class="form-control", id="validationCustomUsername", placeholder="0-1 range", step="0.001", min="0", max="1") }}
              <div class="invalid-feedback">
                Please insert a value between 0 and 1.<br>
                Note: the minimun step is 0,001.
              </div>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="col-md-6 mb-3">
            <!-- <label for="validationCustomUsername">0-1 range</label> -->
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroupPrepend">Threshold</span>
              </div>
              {{ form.threshold(type="number", class="form-control", id="validationCustomUsername", placeholder="0-1 range", step="0.001", min="0", max="1") }}
              <div class="invalid-feedback">
                Please insert a value between 0 and 1.<br>
                Note: the minimun step is 0,001.
              </div>
            </div>
          </div>
        
          <div class="col-md-6 mb-3">
            <!-- <label for="validationCustomUsername">0-1 range</label> -->
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroupPrepend">Iterations</span>
              </div>
              {{ form.iterations(type="number", class="form-control", id="validationCustomUsername", placeholder="1-10k range", step="1", min="1", max="10000") }}
              <div class="invalid-feedback">
                Please insert a value between 1 and 10000.
              </div>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="col-md-6 mb-3">
            <!-- <label for="validationCustomUsername">0-1 range</label> -->
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroupPrepend">Smoothing</span>
              </div>
                {{ form.smoothing(type="number", class="form-control", id="validationCustomUsername", placeholder="0-1 range", step="0.001", min="0", max="1") }}
              <div class="invalid-feedback">
                Please insert a value between 0 and 1<br>  
                Note: the minimun step is 0,001.
              </div>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <!-- <label for="validationCustomUsername">0-1 range</label> -->
            <div class="col-md-12 mb-3">
              {{ form.priorsfile(type="file", class="custom-file-input", id="customFile")}}
              <label class="custom-file-label" for="customFile">Priors file...</label>
              <div class="valid-feedback">
                Looks good!
              </div>
            </div>
          </div>
        </div>
      </div>
      <button class="btn btn-primary" type="submit">Submit</button>
    </form>
    
    <script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function() {
      'use strict';
      window.addEventListener('load', function() {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.getElementsByClassName('needs-validation');
        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function(form) {
          form.addEventListener('submit', function(event) {
            if (form.checkValidity() === false) {
              event.preventDefault();
              event.stopPropagation();
            }
            form.classList.add('was-validated');
          }, false);
        });
      }, false);
    })();
    </script>
  </div>
</section><!-- End About Section -->
{% endblock %}